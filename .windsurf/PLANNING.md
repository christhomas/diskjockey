# DiskJockey Planning Information (auto-generated by Cascade)

## Current High-Level Plan
- Sidebar and menu bar should both have a Quit item, which navigates to a controlled shutdown panel (not instant quit).
- The Quit panel must show shutdown progress and info before actually quitting the app.
- Mounts CRUD UI must be fully functional and top-aligned, with dynamic plugin type pickers.
- SwiftUI architecture with ObservableObject/EnvironmentObject for all shared state.
- No AppKit/storyboard dependencies; all UI is SwiftUI.
- Menu bar and sidebar navigation is unified via notifications and SidebarModel.selectedItem.

## Task List
- [x] Add Quit item to sidebar and menu bar, both navigating to Quit panel.
- [x] Implement Quit panel with controlled shutdown info and button.
- [x] Route menu bar Quit to sidebar Quit panel (not instant quit).
- [x] Sidebar and menu bar About/Settings navigation unified.
- [x] Mounts CRUD UI (add, edit, delete, Picker fixes, top alignment).
- [ ] Final polish and bugfixes.

## Key Design Decisions
- Controlled shutdown process is required for safe quitting (remote disks, data integrity).
- All navigation (sidebar/menu bar) uses notifications and SidebarModel.selectedItem.
- No direct/instant quit from menu or sidebar; always show Quit panel for user feedback.

## Outstanding Issues
- Mounts page top-alignment still needs robust validation on all macOS versions.
- Further shutdown logic (real unmount, save, etc.) can be added to QuitPanelView.
- [BLOCKING] MountFormView.swift: SwiftUI generic parameter 'C' could not be inferred error. Root cause: ForEach over FormField (not Identifiable). Fixed by making FormField Identifiable and updating ForEach usage.
- [BLOCKING] SwiftProtobuf module not found during build. Next step: resolve SwiftProtobuf integration/build issue.

---

*This file is auto-generated and updated by Cascade. For the latest plan, see this file or ask Cascade to update it.*
